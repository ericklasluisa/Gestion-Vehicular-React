{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import InformacionVehiculo from'./InformacionVehiculo';import MenuVehiculo from'./MenuVehiculo';import ActividadVehiculo from'./ActividadVehiculo';import RecorridoVehiculo from'./RecorridoVehiculo';import{useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const bgcolor='rgb(218, 217, 217)';const bgcolor2='#FFFFFF';const thMantenimientosEnProceso=['Vehículo','Nombre','Tipo','Fecha Inicio','Costo','Terminar'];const thMantenimientosHistorial=['Vehículo','Nombre','Tipo','Fecha Inicio','Costo','Fecha Fin'];const thRecorridosEnProceso=['Vehiculo','Chofer','Fecha y Hora de Salida','Ubicacion de Salida','Ubicacion de Llegada','Terminar'];const thRecorridosHistorial=['Ubicacion de Salida','Ubicacion de Llegada','Fecha y Hora de Salida','Fecha y Hora de Llegada','Kilometros Recorridos'];const URI='http://localhost:8000/vehiculos/';const CompGeneralVehiculo=()=>{// Estado para almacenar los datos del vehículo\nconst[vehiculoData,setVehiculoData]=useState();const{placa}=useParams();useEffect(()=>{// Función asincrónica para obtener los datos del vehículo\nconst getVehiculo=async()=>{try{const res=await axios.get(URI+placa);const data=res.data;// Actualizar el estado con los datos del vehículo\nsetVehiculoData(data);console.log(data);}catch(error){console.log(error);}};// Llamar a la función para obtener los datos del vehículo al montar el componente\ngetVehiculo();},[]);// Se pasa un arreglo vacío para que useEffect se ejecute solo una vez al montar el componente\n//ESTADO PARA ALMACENAR MANTENIMIENTOS PROCESO\nconst[mantenimientosProceso,setMantenimientosProceso]=useState([]);useEffect(()=>{const getMantenimientosProceso=async()=>{try{const res=await axios.get(\"http://localhost:8000/mantenimientosProceso/\".concat(placa));const data=res.data||[];setMantenimientosProceso(data);}catch(error){console.log(error);}};getMantenimientosProceso();},[]);console.log(mantenimientosProceso);//ESTADO PARA ALMACENAR MANTENIMIENTOS HISTORIAL\nconst[mantenimientosHistorial,setMantenimientosHistorial]=useState([]);useEffect(()=>{const getMantenimientosHistorial=async()=>{try{const res=await axios.get(\"http://localhost:8000/mantenimientosHistorial/\".concat(placa));const data=res.data||[];setMantenimientosHistorial(data);}catch(error){console.log(error);}};getMantenimientosHistorial();},[]);console.log(mantenimientosHistorial);//ESTADO ALMACENAR RECORRIDOS PROCESO\nconst[recorridosProceso,setRecorridosProceso]=useState([]);useEffect(()=>{const getRecorridosProceso=async()=>{try{const res=await axios.get(\"http://localhost:8000/recorridosProceso/\".concat(placa));const data=res.data||[];setRecorridosProceso(data);}catch(error){console.log(error);}};getRecorridosProceso();},[]);console.log(recorridosProceso);//ESTADO ALMACENAR RECORRIDOS HISTORIAL\nconst[recorridosHistorial,setRecorridosHistorial]=useState([]);useEffect(()=>{const getRecorridosHistorial=async()=>{try{const res=await axios.get(\"http://localhost:8000/recorridosHistorial/\".concat(placa));const data=res.data||[];setRecorridosHistorial(data);}catch(error){console.log(error);}};getRecorridosHistorial();},[]);console.log(recorridosHistorial);//TODOS LOS MANTENIMIENTOS\nconst[todosMantenimientos,setTodosMantenimientos]=useState([]);useEffect(()=>{const getTodosMantenimientos=async()=>{try{const res=await axios.get(\"http://localhost:8000/mantenimiento\");const data=res.data;setTodosMantenimientos(data);}catch(error){console.log(error);}};getTodosMantenimientos();},[]);console.log(todosMantenimientos);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MenuVehiculo,{}),/*#__PURE__*/_jsx(InformacionVehiculo,{vehiculo:vehiculoData}),/*#__PURE__*/_jsx(ActividadVehiculo,{vehiculo:vehiculoData,tituloActividad:\"Mantenimientos\",bgcolor:bgcolor,thActividadesEnProceso:thMantenimientosEnProceso,thActividadesHistorial:thMantenimientosHistorial,actividadesEnProceso:mantenimientosProceso,actividadesHistorial:mantenimientosHistorial,todosMantenimientos:todosMantenimientos}),/*#__PURE__*/_jsx(RecorridoVehiculo,{vehiculo:vehiculoData,tituloActividad:\"Recorridos\",bgcolor:bgcolor,thActividadesEnProceso:thRecorridosEnProceso,thActividadesHistorial:thRecorridosHistorial,actividadesEnProceso:recorridosProceso,actividadesHistorial:recorridosHistorial})]});};export default CompGeneralVehiculo;","map":{"version":3,"names":["React","useState","useEffect","axios","InformacionVehiculo","MenuVehiculo","ActividadVehiculo","RecorridoVehiculo","useParams","jsx","_jsx","jsxs","_jsxs","bgcolor","bgcolor2","thMantenimientosEnProceso","thMantenimientosHistorial","thRecorridosEnProceso","thRecorridosHistorial","URI","CompGeneralVehiculo","vehiculoData","setVehiculoData","placa","getVehiculo","res","get","data","console","log","error","mantenimientosProceso","setMantenimientosProceso","getMantenimientosProceso","concat","mantenimientosHistorial","setMantenimientosHistorial","getMantenimientosHistorial","recorridosProceso","setRecorridosProceso","getRecorridosProceso","recorridosHistorial","setRecorridosHistorial","getRecorridosHistorial","todosMantenimientos","setTodosMantenimientos","getTodosMantenimientos","children","vehiculo","tituloActividad","thActividadesEnProceso","thActividadesHistorial","actividadesEnProceso","actividadesHistorial"],"sources":["C:/Users/erick/Desktop/ESPE/CUARTO SEMESTRE/WEB/github/proyecto/Gestion-Vehicular-React/gestion_vehicular/src/components/vehiculos/CompGeneralVehiculo.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport InformacionVehiculo from './InformacionVehiculo';\r\nimport MenuVehiculo from './MenuVehiculo';\r\nimport ActividadVehiculo from './ActividadVehiculo';\r\nimport RecorridoVehiculo from './RecorridoVehiculo';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\n\r\nconst bgcolor = 'rgb(218, 217, 217)';\r\nconst bgcolor2 = '#FFFFFF';\r\nconst thMantenimientosEnProceso = ['Vehículo', 'Nombre', 'Tipo', 'Fecha Inicio', 'Costo', 'Terminar'];\r\nconst thMantenimientosHistorial = ['Vehículo', 'Nombre', 'Tipo', 'Fecha Inicio', 'Costo', 'Fecha Fin'];\r\nconst thRecorridosEnProceso = ['Vehiculo', 'Chofer', 'Fecha y Hora de Salida', 'Ubicacion de Salida', 'Ubicacion de Llegada', 'Terminar'];\r\nconst thRecorridosHistorial = ['Ubicacion de Salida', 'Ubicacion de Llegada', 'Fecha y Hora de Salida', 'Fecha y Hora de Llegada', 'Kilometros Recorridos'];\r\n\r\nconst URI = 'http://localhost:8000/vehiculos/';\r\n\r\nconst CompGeneralVehiculo = () => {\r\n    // Estado para almacenar los datos del vehículo\r\n    const [vehiculoData, setVehiculoData] = useState();\r\n    const { placa } = useParams();\r\n\r\n\r\n    useEffect(() => {\r\n        // Función asincrónica para obtener los datos del vehículo\r\n        const getVehiculo = async () => {\r\n            try {\r\n                const res = await axios.get(URI + placa);\r\n                const data = res.data;\r\n                // Actualizar el estado con los datos del vehículo\r\n                setVehiculoData(data);\r\n                console.log(data);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        };\r\n\r\n        // Llamar a la función para obtener los datos del vehículo al montar el componente\r\n        getVehiculo();\r\n    }, []); // Se pasa un arreglo vacío para que useEffect se ejecute solo una vez al montar el componente\r\n\r\n\r\n    //ESTADO PARA ALMACENAR MANTENIMIENTOS PROCESO\r\n    const [mantenimientosProceso, setMantenimientosProceso] = useState([]);\r\n    useEffect(() => {\r\n        const getMantenimientosProceso = async () => {\r\n            try {\r\n                const res = await axios.get(`http://localhost:8000/mantenimientosProceso/${placa}`);\r\n                const data = res.data || [];\r\n                setMantenimientosProceso(data);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        getMantenimientosProceso();\r\n    }, []);\r\n    console.log(mantenimientosProceso);\r\n\r\n    //ESTADO PARA ALMACENAR MANTENIMIENTOS HISTORIAL\r\n    const [mantenimientosHistorial, setMantenimientosHistorial] = useState([]);\r\n    useEffect(() => {\r\n        const getMantenimientosHistorial = async () => {\r\n            try {\r\n                const res = await axios.get(`http://localhost:8000/mantenimientosHistorial/${placa}`);\r\n                const data = res.data || [];\r\n                setMantenimientosHistorial(data);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        getMantenimientosHistorial();\r\n    }, []);\r\n    console.log(mantenimientosHistorial);\r\n\r\n\r\n    //ESTADO ALMACENAR RECORRIDOS PROCESO\r\n    const [recorridosProceso, setRecorridosProceso] = useState([]);\r\n    useEffect(() => {\r\n        const getRecorridosProceso = async () => {\r\n            try {\r\n                const res = await axios.get(`http://localhost:8000/recorridosProceso/${placa}`);\r\n                const data = res.data || [];\r\n                setRecorridosProceso(data);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        getRecorridosProceso();\r\n    }, []);\r\n    console.log(recorridosProceso);\r\n\r\n\r\n    //ESTADO ALMACENAR RECORRIDOS HISTORIAL\r\n    const [recorridosHistorial, setRecorridosHistorial] = useState([]);\r\n    useEffect(() => {\r\n        const getRecorridosHistorial = async () => {\r\n            try {\r\n                const res = await axios.get(`http://localhost:8000/recorridosHistorial/${placa}`);\r\n                const data = res.data || [];\r\n                setRecorridosHistorial(data);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        getRecorridosHistorial();\r\n    }, []);\r\n    console.log(recorridosHistorial);\r\n\r\n    //TODOS LOS MANTENIMIENTOS\r\n    const [todosMantenimientos, setTodosMantenimientos] = useState([]);\r\n    useEffect(() => {\r\n        const getTodosMantenimientos = async () => {\r\n            try {\r\n                const res = await axios.get(`http://localhost:8000/mantenimiento`);\r\n                const data = res.data;\r\n                setTodosMantenimientos(data);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        getTodosMantenimientos();\r\n    }, []);\r\n    console.log(todosMantenimientos);\r\n    return (\r\n        <div>\r\n            <MenuVehiculo />\r\n            {/* Verificar si vehiculoData está disponible antes de renderizar el componente InformacionVehiculo */}\r\n            <InformacionVehiculo vehiculo={vehiculoData} />\r\n            <ActividadVehiculo\r\n                vehiculo={vehiculoData}\r\n                tituloActividad={\"Mantenimientos\"}\r\n                bgcolor={bgcolor}\r\n                thActividadesEnProceso={thMantenimientosEnProceso}\r\n                thActividadesHistorial={thMantenimientosHistorial}\r\n                actividadesEnProceso={mantenimientosProceso}\r\n                actividadesHistorial={mantenimientosHistorial}\r\n                todosMantenimientos={todosMantenimientos}\r\n            />\r\n\r\n            <RecorridoVehiculo\r\n                vehiculo={vehiculoData}\r\n                tituloActividad={\"Recorridos\"}\r\n                bgcolor={bgcolor}\r\n                thActividadesEnProceso={thRecorridosEnProceso}\r\n                thActividadesHistorial={thRecorridosHistorial}\r\n                actividadesEnProceso={recorridosProceso}\r\n                actividadesHistorial={recorridosHistorial}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CompGeneralVehiculo;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}